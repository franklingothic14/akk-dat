<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Artikeltrainer: Akkusativ / Dativ</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        .container {
            background: white;
            border-radius: 24px;
            padding: 36px;
            max-width: 580px;
            width: 100%;
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
        }
        h1 {
            text-align: center;
            color: #111827;
            margin-bottom: 24px;
            font-size: 1.6em;
            font-weight: 700;
        }
        #progress {
            text-align: center;
            color: #6b7280;
            margin-bottom: 24px;
            font-weight: 600;
            font-size: 1em;
        }
        .sentence {
            font-size: 1.6em;
            text-align: center;
            margin-bottom: 16px;
            padding: 28px 24px;
            background: #f9fafb;
            border-radius: 20px;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            line-height: 1.4;
        }
        .underline {
            border-bottom: 4px solid #8b5cf6;
            padding: 0 20px;
            margin: 0 6px;
            font-size: 1.4em;
            font-weight: 600;
        }
        .hint {
            text-align: center;
            color: #9ca3af;
            margin-bottom: 24px;
            font-style: italic;
            font-size: 0.95em;
        }
        .options {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
            margin-bottom: 24px;
        }
        .option {
            padding: 16px 28px;
            border: none;
            border-radius: 12px;
            background: #8b5cf6;
            color: white;
            cursor: pointer;
            font-size: 1.1em;
            transition: all 0.2s;
            font-weight: 500;
            min-width: 90px;
        }
        .option:hover:not(.disabled) {
            background: #7c3aed;
            transform: translateY(-2px);
        }
        .option.correct {
            background: #22c55e;
        }
        .option.wrong {
            background: #ef4444;
        }
        .option.disabled {
            opacity: 0.6;
            cursor: default;
        }
        .feedback {
            text-align: center;
            min-height: 24px;
            margin-bottom: 24px;
            font-size: 1.1em;
            font-weight: 500;
        }
        .top-controls {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }
        .top-controls button {
            padding: 12px 28px;
            border: none;
            border-radius: 12px;
            background: #6b7280;
            color: white;
            cursor: pointer;
            font-size: 1em;
            font-weight: 500;
            transition: background 0.2s;
        }
        .top-controls button:hover {
            background: #4b5563;
        }
        #score {
            text-align: center;
            font-size: 1.2em;
            font-weight: 700;
            color: #111827;
        }
        @media (max-width: 500px) {
            .container { padding: 24px; }
            .sentence { font-size: 1.4em; padding: 20px; }
            .option { width: calc(50% - 6px); text-align: center; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Artikeltrainer: Akkusativ oder Dativ?</h1>

        <div id="progress">Frage <span id="current">1</span>/<span id="total">10</span></div>

        <div id="sentence" class="sentence">Lade...</div>
        <div id="hint" class="hint"></div>

        <div id="options" class="options"></div>

        <div id="feedback" class="feedback"></div>

        <div class="top-controls">
            <button id="restart">Neu starten</button>
        </div>

        <div id="score">Punkte: <span id="score-val">0</span>/<span id="score-total">10</span></div>
    </div>

    <script>
        const questions = [
            {
                sentence: "Ich sehe ___ Hund.",
                options: ["der", "den", "dem", "die"],
                answer: "den",
                hint: "Akkusativ (sehen)"
            },
            {
                sentence: "Ich gebe ___ Frau ein Buch.",
                options: ["der", "die", "dem", "den"],
                answer: "der",
                hint: "Dativ (geben)"
            },
            {
                sentence: "Ich gehe mit ___ Mann.",
                options: ["der", "den", "dem"],
                answer: "dem",
                hint: "Dativ (mit)"
            },
            {
                sentence: "Ich kaufe ___ Äpfel.",
                options: ["die", "den", "dem"],
                answer: "die",
                hint: "Akkusativ (Plural, kaufen)"
            },
            {
                sentence: "Ich schreibe ___ Brief.",
                options: ["ein", "einen", "dem"],
                answer: "einen",
                hint: "Akkusativ (schreiben)"
            },
            {
                sentence: "Ich helfe ___ Kind.",
                options: ["dem", "das", "den"],
                answer: "dem",
                hint: "Dativ (helfen)"
            },
            {
                sentence: "Ich lege das Buch auf ___ Tisch.",
                options: ["der", "den", "dem"],
                answer: "den",
                hint: "Akkusativ (Richtung, auf)"
            },
            {
                sentence: "Ich danke ___ Lehrerin.",
                options: ["der", "die", "dem"],
                answer: "der",
                hint: "Dativ (danken)"
            },
            {
                sentence: "Ich male ___ Haus.",
                options: ["das", "den", "dem"],
                answer: "das",
                hint: "Akkusativ (malen)"
            },
            {
                sentence: "Ich spreche mit ___ Freunden.",
                options: ["die", "den", "dem"],
                answer: "den",
                hint: "Dativ (Plural, mit)"
            }
        ];

        let currentIndex = 0;
        let score = 0;

        function startQuiz() {
            currentIndex = 0;
            score = 0;
            updateScore();
            showQuestion();
            document.getElementById('feedback').textContent = '';
        }

        function showQuestion() {
            const q = questions[currentIndex];
            document.getElementById('current').textContent = currentIndex + 1;

            const sentenceHtml = q.sentence.replace(
                '___',
                '<span class="underline">___</span>'
            );
            document.getElementById('sentence').innerHTML = sentenceHtml;

            document.getElementById('hint').textContent = q.hint;

            const optsDiv = document.getElementById('options');
            optsDiv.innerHTML = '';

            q.options.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = 'option';
                btn.textContent = opt;
                btn.onclick = () => handleAnswer(btn, opt);
                optsDiv.appendChild(btn);
            });

            document.getElementById('feedback').textContent = '';
        }

        function handleAnswer(button, selected) {
            const q = questions[currentIndex];

            const buttons = document.querySelectorAll('.option');
            buttons.forEach(b => {
                b.classList.add('disabled');
                b.disabled = true;
            });

            buttons.forEach(b => {
                if (b.textContent === q.answer) {
                    b.classList.add('correct');
                }
            });

            if (selected === q.answer) {
                score++;
                document.getElementById('feedback').textContent = 'Richtig!';
                document.getElementById('feedback').style.color = '#059669';
            } else {
                button.classList.add('wrong');
                document.getElementById('feedback').textContent = `Falsch – richtig ist: ${q.answer}`;
                document.getElementById('feedback').style.color = '#dc2626';
            }

            updateScore();

            setTimeout(() => {
                if (currentIndex < questions.length - 1) {
                    currentIndex++;
                    showQuestion();
                } else {
                    alert(
                        `Fertig! Punkte: ${score}/${questions.length} (${Math.round(
                            (score / questions.length) * 100
                        )}%)`
                    );
                }
            }, 1000);
        }

        function updateScore() {
            document.getElementById('score-val').textContent = score;
        }

        document.getElementById('restart').onclick = startQuiz;

        // Автозапуск
        window.onload = startQuiz;
    </script>
</body>
</html>
